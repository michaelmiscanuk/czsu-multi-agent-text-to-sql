<mxfile host="Electron" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/29.0.3 Chrome/140.0.7339.249 Electron/38.7.0 Safari/537.36" version="29.0.3">
  <diagram id="langgraph-nodes" name="LangGraph Node Architecture">
    <mxGraphModel dx="1400" dy="1100" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1000" pageHeight="1400" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        
        <!-- Title -->
        <mxCell id="title" value="&lt;b&gt;&lt;font style=&quot;font-size: 24px;&quot;&gt;Multi-Agent Text-to-SQL Architecture&lt;/font&gt;&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Helvetica;" parent="1" vertex="1">
          <mxGeometry x="200" y="30" width="600" height="50" as="geometry" />
        </mxCell>

        <!-- QUERY (Start) -->
        <mxCell id="query_start" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;QUERY&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E9;strokeColor=#2E7D32;fontSize=14;fontStyle=1;shadow=1;strokeWidth=3;arcSize=15;" parent="1" vertex="1">
          <mxGeometry x="400" y="120" width="200" height="70" as="geometry" />
        </mxCell>

        <!-- SQL Search Node -->
        <mxCell id="sql_search" value="&lt;b&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;SQL Search&lt;/font&gt;&lt;/b&gt;" style="ellipse;whiteSpace=wrap;html=1;fillColor=#E1F5FE;strokeColor=#0277BD;fontSize=12;fontStyle=1;shadow=1;strokeWidth=2.5;" parent="1" vertex="1">
          <mxGeometry x="200" y="280" width="180" height="120" as="geometry" />
        </mxCell>

        <!-- PDF Search Node -->
        <mxCell id="pdf_search" value="&lt;b&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;PDF Search&lt;/font&gt;&lt;/b&gt;" style="ellipse;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#E65100;fontSize=12;fontStyle=1;shadow=1;strokeWidth=2.5;" parent="1" vertex="1">
          <mxGeometry x="620" y="280" width="180" height="120" as="geometry" />
        </mxCell>

        <!-- Reflect Node -->
        <mxCell id="reflect" value="&lt;b&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;Reflect&lt;/font&gt;&lt;/b&gt;" style="ellipse;whiteSpace=wrap;html=1;fillColor=#FCE4EC;strokeColor=#C2185B;fontSize=12;fontStyle=1;shadow=1;strokeWidth=2.5;" parent="1" vertex="1">
          <mxGeometry x="200" y="500" width="180" height="120" as="geometry" />
        </mxCell>

        <!-- Format Node -->
        <mxCell id="format" value="&lt;b&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;Format&lt;/font&gt;&lt;/b&gt;" style="ellipse;whiteSpace=wrap;html=1;fillColor=#F3E5F5;strokeColor=#6A1B9A;fontSize=12;fontStyle=1;shadow=1;strokeWidth=2.5;" parent="1" vertex="1">
          <mxGeometry x="410" y="720" width="180" height="120" as="geometry" />
        </mxCell>

        <!-- Summarize Node -->
        <mxCell id="summarize" value="&lt;b&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;Summarize&lt;/font&gt;&lt;/b&gt;" style="ellipse;whiteSpace=wrap;html=1;fillColor=#E0F2F1;strokeColor=#00695C;fontSize=12;fontStyle=1;shadow=1;strokeWidth=2.5;" parent="1" vertex="1">
          <mxGeometry x="410" y="960" width="180" height="120" as="geometry" />
        </mxCell>

        <!-- ANSWER (End) -->
        <mxCell id="answer_end" value="&lt;b&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;ANSWER&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E9;strokeColor=#2E7D32;fontSize=14;fontStyle=1;shadow=1;strokeWidth=3;arcSize=15;" parent="1" vertex="1">
          <mxGeometry x="400" y="1200" width="200" height="70" as="geometry" />
        </mxCell>

        <!-- Arrows -->
        
        <!-- Query to SQL Search -->
        <mxCell id="arrow_q_sql" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#0277BD;endArrow=block;endFill=1;curved=1;exitX=0.25;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="query_start" target="sql_search" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Query to PDF Search -->
        <mxCell id="arrow_q_pdf" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#E65100;endArrow=block;endFill=1;curved=1;exitX=0.75;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="query_start" target="pdf_search" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- SQL Search to Reflect -->
        <mxCell id="arrow_sql_reflect" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#0277BD;endArrow=block;endFill=1;curved=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="sql_search" target="reflect" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Reflect Loop (Self-reference) -->
        <mxCell id="arrow_reflect_loop" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2.5;strokeColor=#C2185B;endArrow=block;endFill=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.7;entryDx=0;entryDy=0;dashed=1;dashPattern=8 8;" parent="1" source="reflect" target="reflect" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="120" y="560" />
              <mxPoint x="120" y="584" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- Reflect to SQL Search (Loop back) -->
        <mxCell id="arrow_reflect_sql" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2.5;strokeColor=#C2185B;endArrow=block;endFill=1;curved=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;dashed=1;dashPattern=8 8;" parent="1" source="reflect" target="sql_search" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="290" y="470" />
              <mxPoint x="150" y="470" />
              <mxPoint x="150" y="340" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- Reflect to Format -->
        <mxCell id="arrow_reflect_format" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#6A1B9A;endArrow=block;endFill=1;curved=1;exitX=1;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="reflect" target="format" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- PDF Search to Format -->
        <mxCell id="arrow_pdf_format" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#E65100;endArrow=block;endFill=1;curved=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="pdf_search" target="format" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Format to Summarize -->
        <mxCell id="arrow_format_sum" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#00695C;endArrow=block;endFill=1;curved=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="format" target="summarize" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Summarize to Answer -->
        <mxCell id="arrow_sum_answer" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#2E7D32;endArrow=block;endFill=1;curved=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="summarize" target="answer_end" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Legend -->
        <mxCell id="legend_bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FAFAFA;strokeColor=#9E9E9E;fontSize=12;shadow=1;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="50" y="120" width="100" height="380" as="geometry" />
        </mxCell>

        <mxCell id="legend_title" value="&lt;b&gt;Legend&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Helvetica;fontSize=13;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="50" y="130" width="100" height="30" as="geometry" />
        </mxCell>

        <!-- Legend Items -->
        <mxCell id="legend_sql" value="SQL&lt;br&gt;Search" style="ellipse;whiteSpace=wrap;html=1;fillColor=#E1F5FE;strokeColor=#0277BD;fontSize=10;shadow=1;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="60" y="180" width="80" height="50" as="geometry" />
        </mxCell>

        <mxCell id="legend_pdf" value="PDF&lt;br&gt;Search" style="ellipse;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#E65100;fontSize=10;shadow=1;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="60" y="245" width="80" height="50" as="geometry" />
        </mxCell>

        <mxCell id="legend_reflect" value="Reflect" style="ellipse;whiteSpace=wrap;html=1;fillColor=#FCE4EC;strokeColor=#C2185B;fontSize=10;shadow=1;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="60" y="310" width="80" height="50" as="geometry" />
        </mxCell>

        <mxCell id="legend_format" value="Format" style="ellipse;whiteSpace=wrap;html=1;fillColor=#F3E5F5;strokeColor=#6A1B9A;fontSize=10;shadow=1;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="60" y="375" width="80" height="50" as="geometry" />
        </mxCell>

        <mxCell id="legend_summarize" value="Summarize" style="ellipse;whiteSpace=wrap;html=1;fillColor=#E0F2F1;strokeColor=#00695C;fontSize=10;shadow=1;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="60" y="440" width="80" height="50" as="geometry" />
        </mxCell>

        <!-- Description Box -->
        <mxCell id="desc_bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F5F5F5;strokeColor=#616161;fontSize=12;shadow=1;strokeWidth=2;align=left;verticalAlign=top;spacingTop=10;spacingLeft=15;" parent="1" vertex="1">
          <mxGeometry x="50" y="960" width="280" height="310" as="geometry" />
        </mxCell>

        <mxCell id="desc_title" value="&lt;b style=&quot;font-size: 14px;&quot;&gt;System Overview&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontFamily=Helvetica;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="65" y="975" width="250" height="25" as="geometry" />
        </mxCell>

        <mxCell id="desc_content" value="&lt;font style=&quot;font-size: 11px;&quot;&gt;&lt;b&gt;Query Processing:&lt;/b&gt;&lt;br&gt;User query initiates parallel search across structured (SQL) and unstructured (PDF) data sources.&lt;br&gt;&lt;br&gt;&lt;b&gt;Iterative Refinement:&lt;/b&gt;&lt;br&gt;SQL results undergo reflection and validation with feedback loops for query improvement.&lt;br&gt;&lt;br&gt;&lt;b&gt;Response Generation:&lt;/b&gt;&lt;br&gt;Results are formatted, summarized, and delivered as a comprehensive answer.&lt;br&gt;&lt;br&gt;&lt;b&gt;Key Feature:&lt;/b&gt;&lt;br&gt;Self-correcting agentic workflow with multi-source retrieval.&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontFamily=Helvetica;spacingLeft=5;" parent="1" vertex="1">
          <mxGeometry x="65" y="1010" width="250" height="245" as="geometry" />
        </mxCell>

        <!-- Technology Stack Box -->
        <mxCell id="tech_bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#1976D2;fontSize=12;shadow=1;strokeWidth=2;align=center;verticalAlign=top;spacingTop=10;" parent="1" vertex="1">
          <mxGeometry x="670" y="960" width="280" height="180" as="geometry" />
        </mxCell>

        <mxCell id="tech_title" value="&lt;b style=&quot;font-size: 14px;&quot;&gt;Technology Stack&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontFamily=Helvetica;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="670" y="975" width="280" height="25" as="geometry" />
        </mxCell>

        <mxCell id="tech_content" value="&lt;font style=&quot;font-size: 11px;&quot;&gt;&lt;b&gt;Framework:&lt;/b&gt; LangGraph, LangChain&lt;br&gt;&lt;b&gt;Vector Store:&lt;/b&gt; ChromaDB&lt;br&gt;&lt;b&gt;Database:&lt;/b&gt; SQLite, PostgreSQL&lt;br&gt;&lt;b&gt;LLM:&lt;/b&gt; OpenAI GPT-4, Claude&lt;br&gt;&lt;b&gt;Document Processing:&lt;/b&gt; LlamaParse&lt;br&gt;&lt;b&gt;Embedding:&lt;/b&gt; OpenAI Embeddings&lt;br&gt;&lt;b&gt;Backend:&lt;/b&gt; FastAPI, Python&lt;br&gt;&lt;b&gt;Frontend:&lt;/b&gt; Next.js, React&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontFamily=Helvetica;spacingLeft=20;" parent="1" vertex="1">
          <mxGeometry x="685" y="1010" width="250" height="155" as="geometry" />
        </mxCell>

        <!-- Features Box -->
        <mxCell id="features_bg2" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#E65100;fontSize=12;shadow=1;strokeWidth=2;align=center;verticalAlign=top;spacingTop=10;" parent="1" vertex="1">
          <mxGeometry x="670" y="1160" width="280" height="110" as="geometry" />
        </mxCell>

        <mxCell id="features_title2" value="&lt;b style=&quot;font-size: 14px;&quot;&gt;Core Capabilities&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontFamily=Helvetica;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="670" y="1175" width="280" height="25" as="geometry" />
        </mxCell>

        <mxCell id="features_content2" value="&lt;font style=&quot;font-size: 11px;&quot;&gt;✓ Natural Language to SQL Translation&lt;br&gt;✓ Hybrid RAG (Structured + Unstructured)&lt;br&gt;✓ Self-Reflection &amp;amp; Query Validation&lt;br&gt;✓ Context-Aware Response Generation&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontFamily=Helvetica;spacingLeft=20;" parent="1" vertex="1">
          <mxGeometry x="685" y="1205" width="250" height="55" as="geometry" />
        </mxCell>

        <!-- Annotations -->
        <mxCell id="note_parallel" value="&lt;i&gt;Parallel retrieval&lt;/i&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Helvetica;fontSize=10;fontColor=#666666;" parent="1" vertex="1">
          <mxGeometry x="430" y="220" width="140" height="20" as="geometry" />
        </mxCell>

        <mxCell id="note_loop" value="&lt;i&gt;Iterative refinement&lt;/i&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Helvetica;fontSize=10;fontColor=#666666;" parent="1" vertex="1">
          <mxGeometry x="30" y="420" width="90" height="40" as="geometry" />
        </mxCell>

        <!-- Footer -->
        <mxCell id="footer" value="&lt;i&gt;&lt;font style=&quot;font-size: 10px;&quot;&gt;Multi-Agent Text-to-SQL System • Node-based architecture with iterative query refinement • Master's Thesis 2024&lt;/font&gt;&lt;/i&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Helvetica;fontColor=#757575;" parent="1" vertex="1">
          <mxGeometry x="200" y="1340" width="600" height="30" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>

